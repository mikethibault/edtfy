!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.edtfy=e()}}(function(){return function e(r,n,t){function u(i,a){if(!n[i]){if(!r[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[i]={exports:{}};r[i][0].call(s.exports,function(e){var n=r[i][1][e];return u(n?n:e)},s,s.exports,e,r,n,t)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<t.length;i++)u(t[i]);return u}({1:[function(e,r,n){!function(){var n="en",t=e("./tmp/edtfy.js"),u=e("./locales/fr"),o=e("./locales/en"),i=function(e,r){return r.months.forEach(function(r,n){n++,n=n>9?n:"0"+n,e=e.replace(new RegExp("\\b"+r+"\\b","g"),"M"+n)}),r.seasons.forEach(function(r,n){n++,n="2"+n,e=e.replace(new RegExp("\\b"+r+"\\b","g"),"S"+n)}),e=e.replace(new RegExp("\\b"+r.century+"\\b","g"),"C"),e=e.replace(new RegExp("\\b"+r.around+"\\b","g"),"~"),e=e.replace(new RegExp("\\b"+r.between1+"\\b","g"),"B1"),e=e.replace(new RegExp("\\b"+r.between2+"\\b","g"),"B2"),e=e.replace(new RegExp("\\b"+r.and+"\\b","g"),"A"),e=e.replace(new RegExp("\\b"+r.or+"\\b","g"),"O"),e=e.replace(new RegExp("\\b"+r.unknown+"\\b","g"),"U"),e=e.replace(new RegExp("\\b"+r.open+"\\b","g"),"OP"),e=e.replace(new RegExp("\\b"+r.before,"g"),"BF"),e=e.replace(new RegExp("\\b"+r.after,"g"),"AF"),e=e.replace(new RegExp("\\b"+r.days+"\\b","g"),""),e=e.replace(new RegExp(" *("+r.negative+")\\b","g")," BCE"),e=e.replace(new RegExp(" *("+r.positive+")\\b","g"),"")};r.exports=function(e,r){r=r||{},r.locale=r.locale||n;var a="en"===r.locale?o:u;e=e.trim().toLowerCase().replace(/ +/g," ").replace(/[,.]/g,"").replace(/[àáâãäå]/g,"a").replace(/ç/g,"c").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõö]/g,"o").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y").replace(/\ble\b/g,"").replace(/\ben\b\s*(\d)/g,"$1").replace(/\bl'\b/g,"").replace(/\bl'an\b/g,"").replace(/(\d+)\s?eme\b/g,"$1").replace(/(\d+)\s?er\b/g,"$1").replace(/(\d+)\s?e\b/g,"$1").replace(/\bthe\b/g,"").replace(/\bin\b/g,"").replace(/(\d+)\s?st\b/g,"$1").replace(/(\d+)\s?nd\b/g,"$1").replace(/(\d+)\s?rd\b/g,"$1").replace(/(\d+)\s?th\b/g,"$1").replace(/ +/g," "),e=i(e,a).trim().replace(/([ivxlcdm]+)\s?eme C/g,"$1 C").replace(/([ivxlcdm]+)\s?er C/g,"$1 C").replace(/([ivxlcdm]+)\s?e C/g,"$1 C").replace(/([ivxlcdm]+)\s?st C/g,"$1 C").replace(/([ivxlcdm]+)\s?nd C/g,"$1 C").replace(/([ivxlcdm]+)\s?rd C/g,"$1 C").replace(/([ivxlcdm]+)\s?th C/g,"$1 C");var c;return a.format.forEach(function(r,n){try{c||(c=t.parse(e,{format:r}))}catch(u){if(n===a.format.length-1)throw u}}),c},r.exports.locale=function(e){return e?void(n=e):n}}()},{"./locales/en":2,"./locales/fr":3,"./tmp/edtfy.js":4}],2:[function(e,r,n){r.exports={days:"monday|mon|tuesday|tue|wednesday|wed|thursday|thu|friday|fri|saturday|sat|sunday|sun",months:["january|jan","february|feb","march|mar","april|apr","may","june|jun","july|jul","august|aug","september|sep","october|oct","november|nov","december|dec"],seasons:["spring","summer","autumn|fall","winter"],century:"century",format:["mdy","dmy"],around:"around|about|abt|close to|estimated|est",between1:"between|bet|from",between2:"to",and:"and",or:"or",unknown:"unknown|ukn",open:"open",before:"before|bef|bf|<",after:"after|aft|af|>",negative:"bce|bc",positive:"ce|ad"}},{}],3:[function(e,r,n){r.exports={days:"lundi|lun|mardi|mar|mercredi|mer|jeudi|jeu|vendredi|ven|samedi|sam|dimanche|dim",months:["janvier|jan","fevrier|fev","mars|mar","avril|avr","mai","juin|jun|jui","juillet|jul|juil","aout|aou","septembre|sep","octobre|oct","novembre|nov","decembre|dec"],seasons:["printemps","ete","automne","hiver"],century:"siecle",format:["dmy"],around:"vers|environ|env|autour de|estime|estimee|est",between1:"entre|du|de",between2:"au|a",and:"et",or:"ou",unknown:"inconnue?",open:"en cours",before:"avant|avt|av|<",after:"apres|apr|ap|>",negative:"aec",positive:"ec"}},{}],4:[function(e,r,n){r.exports=function(){"use strict";function e(e,r){function n(){this.constructor=e}n.prototype=r.prototype,e.prototype=new n}function r(e,n,t,u){this.message=e,this.expected=n,this.found=t,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}function n(e){function n(r){var n,t,u=Vr[r];if(u)return u;for(n=r-1;!Vr[n];)n--;for(u=Vr[n],u={line:u.line,column:u.column,seenCR:u.seenCR};n<r;)t=e.charAt(n),"\n"===t?(u.seenCR||u.line++,u.column=1,u.seenCR=!1):"\r"===t||"\u2028"===t||"\u2029"===t?(u.line++,u.column=1,u.seenCR=!0):(u.column++,u.seenCR=!1),n++;return Vr[r]=u,u}function t(e,r){var t=n(e),u=n(r);return{start:{offset:e,line:t.line,column:t.column},end:{offset:r,line:u.line,column:u.column}}}function u(e){Lr<qr||(Lr>qr&&(qr=Lr,Pr=[]),Pr.push(e))}function o(e,n,t,u){function o(e){var r=1;for(e.sort(function(e,r){return e.description<r.description?-1:e.description>r.description?1:0});r<e.length;)e[r-1]===e[r]?e.splice(r,1):r++}function i(e,r){function n(e){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+r(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+r(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+r(e)})}var t,u,o,i=new Array(e.length);for(o=0;o<e.length;o++)i[o]=e[o].description;return t=e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0],u=r?'"'+n(r)+'"':"end of input","Expected "+t+" but "+u+" found."}return null!==n&&o(n),new r(null!==e?e:i(n,t),n,t,u)}function i(){var e;return e=c(),e===K&&(e=l(),e===K&&(e=s(),e===K&&(e=f()))),e}function a(){var r,n,t,o;return r=Lr,126===e.charCodeAt(Lr)?(n=Y,Lr++):(n=K,0===Tr&&u(Z)),n!==K?(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re)),t===K&&(t=null),t!==K?(o=p(),o!==K?(Ur=r,n=ne(o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=p(),n!==K?(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re)),t===K&&(t=null),t!==K?(126===e.charCodeAt(Lr)?(o=Y,Lr++):(o=K,0===Tr&&u(Z)),o!==K?(Ur=r,n=te(n),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)),r}function c(){var r,n,t,o,i,a;return r=Lr,e.substr(Lr,3)===ue?(n=ue,Lr+=3):(n=K,0===Tr&&u(oe)),n!==K?(t=f(),t!==K?(e.substr(Lr,4)===ie?(o=ie,Lr+=4):(o=K,0===Tr&&u(ae)),o===K&&(e.substr(Lr,3)===ce?(o=ce,Lr+=3):(o=K,0===Tr&&u(le))),o!==K?(i=P(),i===K&&(i=f()),i!==K?(Ur=r,n=se(t,i),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,e.substr(Lr,3)===ue?(n=ue,Lr+=3):(n=K,0===Tr&&u(oe)),n===K&&(n=null),n!==K?(t=f(),t!==K?(e.substr(Lr,4)===ie?(o=ie,Lr+=4):(o=K,0===Tr&&u(ae)),o!==K?(i=P(),i===K&&(i=f()),i!==K?(Ur=r,n=se(t,i),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=f(),n!==K?(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re)),t===K&&(t=null),t!==K?(45===e.charCodeAt(Lr)?(o=fe,Lr++):(o=K,0===Tr&&u(pe)),o!==K?(32===e.charCodeAt(Lr)?(i=ee,Lr++):(i=K,0===Tr&&u(re)),i===K&&(i=null),i!==K?(a=P(),a===K&&(a=f()),a!==K?(Ur=r,n=se(n,a),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=f(),n!==K?(e.substr(Lr,3)===de?(t=de,Lr+=3):(t=K,0===Tr&&u(ve)),t!==K?(o=P(),o===K&&(o=f()),o!==K?(Ur=r,n=se(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)))),r}function l(){var r,n,t,o,i,a,c;if(r=Lr,n=X(),n!==K?(e.substr(Lr,3)===he?(t=he,Lr+=3):(t=K,0===Tr&&u(be)),t!==K?(o=f(),o!==K?(Ur=r,n=ge(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=y(),n!==K?(e.substr(Lr,3)===he?(t=he,Lr+=3):(t=K,0===Tr&&u(be)),t!==K?(o=f(),o!==K?(Ur=r,n=Ce(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K)){if(r=Lr,n=$(),n!==K)if(e.substr(Lr,3)===he?(t=he,Lr+=3):(t=K,0===Tr&&u(be)),t!==K){if(o=Lr,i=$(),i!==K){if(a=[],32===e.charCodeAt(Lr)?(c=ee,Lr++):(c=K,0===Tr&&u(re)),c!==K)for(;c!==K;)a.push(c),32===e.charCodeAt(Lr)?(c=ee,Lr++):(c=K,0===Tr&&u(re));else a=K;a!==K?(c=R(),c!==K?(i=[i,a,c],o=i):(Lr=o,o=K)):(Lr=o,o=K)}else Lr=o,o=K;o!==K?(Ur=r,n=me(n,o),r=n):(Lr=r,r=K)}else Lr=r,r=K;else Lr=r,r=K;if(r===K){if(r=Lr,n=f(),n!==K){if(t=[],o=Lr,e.substr(Lr,3)===he?(i=he,Lr+=3):(i=K,0===Tr&&u(be)),i!==K?(a=f(),a!==K?(Ur=o,i=ye(n,a),o=i):(Lr=o,o=K)):(Lr=o,o=K),o!==K)for(;o!==K;)t.push(o),o=Lr,e.substr(Lr,3)===he?(i=he,Lr+=3):(i=K,0===Tr&&u(be)),i!==K?(a=f(),a!==K?(Ur=o,i=ye(n,a),o=i):(Lr=o,o=K)):(Lr=o,o=K);else t=K;t!==K?(Ur=r,n=xe(n,t),r=n):(Lr=r,r=K)}else Lr=r,r=K;if(r===K){if(r=Lr,n=[],t=_(),t!==K)for(;t!==K;)n.push(t),t=_();else n=K;if(n!==K?(t=f(),t!==K?(Ur=r,n=Ae(t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r===K){if(r=Lr,n=[],t=z(),t!==K)for(;t!==K;)n.push(t),t=z();else n=K;n!==K?(t=f(),t!==K?(Ur=r,n=we(t),r=n):(Lr=r,r=K)):(Lr=r,r=K)}}}}return r}function s(){var r,n,t,o,i,a,c;if(r=Lr,n=X(),n!==K?(e.substr(Lr,3)===ce?(t=ce,Lr+=3):(t=K,0===Tr&&u(le)),t!==K?(o=f(),o!==K?(Ur=r,n=Ee(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=y(),n!==K?(e.substr(Lr,3)===ce?(t=ce,Lr+=3):(t=K,0===Tr&&u(le)),t!==K?(o=f(),o!==K?(Ur=r,n=Re(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K)){if(r=Lr,n=$(),n!==K)if(e.substr(Lr,3)===ce?(t=ce,Lr+=3):(t=K,0===Tr&&u(le)),t!==K){if(o=Lr,i=$(),i!==K){if(a=[],32===e.charCodeAt(Lr)?(c=ee,Lr++):(c=K,0===Tr&&u(re)),c!==K)for(;c!==K;)a.push(c),32===e.charCodeAt(Lr)?(c=ee,Lr++):(c=K,0===Tr&&u(re));else a=K;a!==K?(c=R(),c!==K?(i=[i,a,c],o=i):(Lr=o,o=K)):(Lr=o,o=K)}else Lr=o,o=K;o!==K?(Ur=r,n=je(n,o),r=n):(Lr=r,r=K)}else Lr=r,r=K;else Lr=r,r=K;if(r===K)if(r=Lr,n=f(),n!==K){if(t=[],o=Lr,e.substr(Lr,3)===ce?(i=ce,Lr+=3):(i=K,0===Tr&&u(le)),i!==K?(a=f(),a!==K?(Ur=o,i=ye(n,a),o=i):(Lr=o,o=K)):(Lr=o,o=K),o!==K)for(;o!==K;)t.push(o),o=Lr,e.substr(Lr,3)===ce?(i=ce,Lr+=3):(i=K,0===Tr&&u(le)),i!==K?(a=f(),a!==K?(Ur=o,i=ye(n,a),o=i):(Lr=o,o=K)):(Lr=o,o=K);else t=K;t!==K?(Ur=r,n=Be(n,t),r=n):(Lr=r,r=K)}else Lr=r,r=K}return r}function f(){var e;return e=a(),e===K&&(e=q(),e===K&&(e=d())),e}function p(){var e;return e=q(),e===K&&(e=d()),e}function d(){var r,n,t,o,i;return r=Lr,n=v(),n!==K?(t=Lr,32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re)),o===K&&(o=null),o!==K?(63===e.charCodeAt(Lr)?(i=Fe,Lr++):(i=K,0===Tr&&u($e)),i!==K?(o=[o,i],t=o):(Lr=t,t=K)):(Lr=t,t=K),t===K&&(t=null),t!==K?(Ur=r,n=Ie(n,t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function v(){var e,r;return e=Lr,r=b(),r!==K&&(Ur=e,r=Ne(r)),e=r,e===K&&(e=Lr,r=h(),r!==K&&(Ur=e,r=Me(r)),e=r),e}function h(){var e,r,n;return e=I(),e===K&&(e=Lr,Ur=Lr,r=Oe(),r=r?void 0:K,r!==K?(n=C(),n!==K?(Ur=e,r=Me(n),e=r):(Lr=e,e=K)):(Lr=e,e=K),e===K&&(e=Lr,Ur=Lr,r=Se(),r=r?void 0:K,r!==K?(n=x(),n!==K?(Ur=e,r=Me(n),e=r):(Lr=e,e=K)):(Lr=e,e=K),e===K&&(e=M(),e===K&&(e=w(),e===K&&(e=R()))))),e}function b(){var e,r,n;return e=N(),e===K&&(e=Lr,Ur=Lr,r=Oe(),r=r?void 0:K,r!==K?(n=m(),n!==K?(Ur=e,r=Me(n),e=r):(Lr=e,e=K)):(Lr=e,e=K),e===K&&(e=Lr,Ur=Lr,r=Se(),r=r?void 0:K,r!==K?(n=A(),n!==K?(Ur=e,r=Me(n),e=r):(Lr=e,e=K)):(Lr=e,e=K),e===K&&(e=O(),e===K&&(e=E(),e===K&&(e=j()))))),e}function g(){var r,n,t,o;return r=Lr,n=Lr,t=F(),t!==K?(32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re)),o!==K?(t=[t,o],n=t):(Lr=n,n=K)):(Lr=n,n=K),n===K&&(n=Lr,t=S(),t!==K?(47===e.charCodeAt(Lr)?(o=Xe,Lr++):(o=K,0===Tr&&u(ke)),o!==K?(t=[t,o],n=t):(Lr=n,n=K)):(Lr=n,n=K)),n!==K?(t=X(),t!==K?(Ur=r,n=De(n,t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function C(){var r,n,t,o;return r=Lr,n=g(),n!==K?(47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),t===K&&(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re))),t!==K?(o=R(),o!==K?(Ur=r,n=Le(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r}function m(){var r,n,t,o;return r=Lr,n=g(),n!==K?(47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),t===K&&(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re))),t!==K?(o=j(),o!==K?(Ur=r,n=Le(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r}function y(){var r,n,t,o,i;return r=Lr,n=X(),n!==K?(t=Lr,32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re)),o!==K?(i=F(),i!==K?(o=[o,i],t=o):(Lr=t,t=K)):(Lr=t,t=K),t===K&&(t=Lr,47===e.charCodeAt(Lr)?(o=Xe,Lr++):(o=K,0===Tr&&u(ke)),o!==K?(i=S(),i!==K?(o=[o,i],t=o):(Lr=t,t=K)):(Lr=t,t=K)),t!==K?(Ur=r,n=Ue(n,t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function x(){var r,n,t,o;return r=Lr,n=X(),n!==K?(47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),t===K&&(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re))),t!==K?(o=w(),o!==K?(Ur=r,n=Ve(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r}function A(){var r,n,t,o;return r=Lr,n=X(),n!==K?(47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),t===K&&(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re))),t!==K?(o=E(),o!==K?(Ur=r,n=Ve(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r}function w(){var r,n,t,o;return r=Lr,n=F(),n!==K?(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re)),t!==K?(o=R(),o!==K?(Ur=r,n=qe(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=S(),n!==K?(47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),t!==K?(o=R(),o!==K?(Ur=r,n=qe(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)),r}function E(){var r,n,t,o;return r=Lr,n=F(),n!==K?(32===e.charCodeAt(Lr)?(t=ee,Lr++):(t=K,0===Tr&&u(re)),t!==K?(o=j(),o!==K?(Ur=r,n=qe(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K),r===K&&(r=Lr,n=S(),n!==K?(47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),t!==K?(o=j(),o!==K?(Ur=r,n=qe(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)):(Lr=r,r=K)),r}function R(){var r,n,t;return r=Lr,45===e.charCodeAt(Lr)?(n=fe,Lr++):(n=K,0===Tr&&u(pe)),n===K&&(n=null),n!==K?(t=B(),t!==K?(Ur=r,n=Pe(n,t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function j(){var r,n,t;return r=Lr,n=B(),n!==K?(e.substr(Lr,4)===Te?(t=Te,Lr+=4):(t=K,0===Tr&&u(_e)),t!==K?(Ur=r,n=ze(n),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function B(){var r,n,t,o;if(r=Lr,n=[],t=D(),t!==K)for(;t!==K;)n.push(t),t=D();else n=K;if(n===K&&(n=Lr,Tr++,47===e.charCodeAt(Lr)?(t=Xe,Lr++):(t=K,0===Tr&&u(ke)),Tr--,t===K?n=void 0:(Lr=n,n=K)),n!==K){for(t=[],o=L();o!==K;)t.push(o),o=L();t===K&&(t=Lr,Tr++,47===e.charCodeAt(Lr)?(o=Xe,Lr++):(o=K,0===Tr&&u(ke)),Tr--,o===K?t=void 0:(Lr=t,t=K)),t!==K?(Ur=r,n=Ge(n,t),r=n):(Lr=r,r=K)}else Lr=r,r=K;return r}function F(){var r,n,t,o,i,a;return r=Lr,77===e.charCodeAt(Lr)?(n=He,Lr++):(n=K,0===Tr&&u(Je)),n!==K?(t=Lr,o=Lr,i=D(),i!==K?(a=D(),a!==K?(i=[i,a],o=i):(Lr=o,o=K)):(Lr=o,o=K),t=o!==K?e.substring(t,Lr):o,t!==K?(Ur=r,n=Ke(t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function $(){var r,n,t,o,i,a;return r=Lr,83===e.charCodeAt(Lr)?(n=Qe,Lr++):(n=K,0===Tr&&u(We)),n!==K?(t=Lr,o=Lr,i=D(),i!==K?(a=D(),a!==K?(i=[i,a],o=i):(Lr=o,o=K)):(Lr=o,o=K),t=o!==K?e.substring(t,Lr):o,t!==K?(Ur=r,n=Ye(t),r=n):(Lr=r,r=K)):(Lr=r,r=K),r}function I(){var r,n,t;if(r=Lr,n=[],t=D(),t!==K)for(;t!==K;)n.push(t),t=D();else n=K;if(n!==K?(e.substr(Lr,2)===Ze?(t=Ze,Lr+=2):(t=K,0===Tr&&u(er)),t!==K?(Ur=r,n=rr(n),r=n):(Lr=r,r=K)):(Lr=r,r=K),r===K){if(r=Lr,n=[],t=T(),t!==K)for(;t!==K;)n.push(t),t=T();else n=K;n!==K?(e.substr(Lr,2)===Ze?(t=Ze,Lr+=2):(t=K,0===Tr&&u(er)),t!==K?(Ur=r,n=nr(n),r=n):(Lr=r,r=K)):(Lr=r,r=K)}return r}function N(){var r,n,t;if(r=Lr,n=[],t=D(),t!==K)for(;t!==K;)n.push(t),t=D();else n=K;if(n!==K?(e.substr(Lr,6)===tr?(t=tr,Lr+=6):(t=K,0===Tr&&u(ur)),t!==K?(Ur=r,n=or(n),r=n):(Lr=r,r=K)):(Lr=r,r=K),r===K){if(r=Lr,n=[],t=T(),t!==K)for(;t!==K;)n.push(t),t=T();else n=K;n!==K?(e.substr(Lr,6)===tr?(t=tr,Lr+=6):(t=K,0===Tr&&u(ur)),t!==K?(Ur=r,n=ir(n),r=n):(Lr=r,r=K)):(Lr=r,r=K)}return r}function M(){var r,n,t,o;if(r=Lr,n=$(),n!==K){if(t=[],32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re)),o!==K)for(;o!==K;)t.push(o),32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re));else t=K;t!==K?(o=R(),o!==K?(Ur=r,n=ar(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)}else Lr=r,r=K;return r}function O(){var r,n,t,o;if(r=Lr,n=$(),n!==K){if(t=[],32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re)),o!==K)for(;o!==K;)t.push(o),32===e.charCodeAt(Lr)?(o=ee,Lr++):(o=K,0===Tr&&u(re));else t=K;t!==K?(o=j(),o!==K?(Ur=r,n=ar(n,o),r=n):(Lr=r,r=K)):(Lr=r,r=K)}else Lr=r,r=K;return r}function S(){var e,r,n;return e=Lr,r=U(),r!==K?(n=L(),n!==K?(Ur=e,r=cr(r,n),e=r):(Lr=e,e=K)):(Lr=e,e=K),e===K&&(e=Lr,r=U(),r!==K?(n=D(),n!==K?(Ur=e,r=lr(r,n),e=r):(Lr=e,e=K)):(Lr=e,e=K)),e===K&&(e=k()),e}function X(){var e,r,n;return e=Lr,r=V(),r!==K?(n=L(),n!==K?(Ur=e,r=cr(r,n),e=r):(Lr=e,e=K)):(Lr=e,e=K),e===K&&(e=Lr,r=V(),r!==K?(n=D(),n!==K?(Ur=e,r=lr(r,n),e=r):(Lr=e,e=K)):(Lr=e,e=K)),e===K&&(e=k()),e}function k(){var r,n;return r=Lr,n=D(),n!==K&&(Ur=r,n=sr(n)),r=n,r===K&&(r=Lr,117===e.charCodeAt(Lr)?(n=fr,Lr++):(n=K,0===Tr&&u(pr)),n!==K&&(Ur=r,n=dr()),r=n,r===K&&(r=Lr,42===e.charCodeAt(Lr)?(n=vr,Lr++):(n=K,0===Tr&&u(hr)),n!==K&&(Ur=r,n=dr()),r=n,r===K&&(r=Lr,120===e.charCodeAt(Lr)?(n=br,Lr++):(n=K,0===Tr&&u(gr)),n!==K&&(Ur=r,n=Cr()),r=n))),r}function D(){var r;return mr.test(e.charAt(Lr))?(r=e.charAt(Lr),Lr++):(r=K,0===Tr&&u(yr)),r}function L(){var r,n;return 117===e.charCodeAt(Lr)?(r=fr,Lr++):(r=K,0===Tr&&u(pr)),r===K&&(120===e.charCodeAt(Lr)?(r=br,Lr++):(r=K,0===Tr&&u(gr)),r===K&&(r=Lr,42===e.charCodeAt(Lr)?(n=vr,Lr++):(n=K,0===Tr&&u(hr)),n!==K&&(Ur=r,n=xr()),r=n)),r}function U(){var r;return r=L(),r===K&&(Ar.test(e.charAt(Lr))?(r=e.charAt(Lr),Lr++):(r=K,0===Tr&&u(wr))),r}function V(){var r;return r=L(),r===K&&(Er.test(e.charAt(Lr))?(r=e.charAt(Lr),Lr++):(r=K,0===Tr&&u(Rr))),r}function q(){var r,n;return r=Lr,85===e.charCodeAt(Lr)?(n=jr,Lr++):(n=K,0===Tr&&u(Br)),n!==K&&(Ur=r,n=Fr()),r=n}function P(){var r,n;return r=Lr,e.substr(Lr,2)===$r?(n=$r,Lr+=2):(n=K,0===Tr&&u(Ir)),n!==K&&(Ur=r,n=Nr()),r=n}function T(){var r;return Mr.test(e.charAt(Lr))?(r=e.charAt(Lr),Lr++):(r=K,0===Tr&&u(Or)),r}function _(){var r;return e.substr(Lr,3)===Sr?(r=Sr,Lr+=3):(r=K,0===Tr&&u(Xr)),r}function z(){var r;return e.substr(Lr,3)===kr?(r=kr,Lr+=3):(r=K,0===Tr&&u(Dr)),r}function G(e){e=e.replace(/[~\?y]/g,"").replace(/^-/,"");var r,n,t=e.split("-"),u=Gr(t[0]);if(!Gr(u)&&0===u)throw new Error("Invalid year");if(3==t.length?(r=Gr(t[1]),n=Gr(t[2])):2==t.length&&(r=Gr(t[1])),t.length>1&&null!=n&&!isNaN(n)&&!isNaN(r)){if(null==zr[r])throw new Error("Invalid month");if(zr[r]<n||n<1)throw new Error("Invalid day")}else if(null!=n){if(!isNaN(r)&&(0===r||r>12))throw new Error("Invalid month");if(!isNaN(n)&&(0===n||n>31))throw new Error("Invalid day")}else if(null!=r&&!isNaN(r)&&!(r>0&&r<13||r>20&&r<25))throw new Error("Invalid month")}var H,J=arguments.length>1?arguments[1]:{},K={},Q={start:i},W=i,Y="~",Z={type:"literal",value:"~",description:'"~"'},ee=" ",re={type:"literal",value:" ",description:'" "'},ne=function(e){return e+"~"},te=function(e){return e+"~"},ue="B1 ",oe={type:"literal",value:"B1 ",description:'"B1 "'},ie=" B2 ",ae={type:"literal",value:" B2 ",description:'" B2 "'},ce=" A ",le={type:"literal",value:" A ",description:'" A "'},se=function(e,r){return e+"/"+r},fe="-",pe={type:"literal",value:"-",description:'"-"'},de=" / ",ve={type:"literal",value:" / ",description:'" / "'},he=" O ",be={type:"literal",value:" O ",description:'" O "'},ge=function(e,r){var n=r.split("-")[0],t=r.split("-")[1];return"["+n+"-"+t+"-"+e+","+r+"]"},Ce=function(e,r){var n=r.split("-")[0];return"["+n+"-"+e.m+"-"+e.d+","+r+"]"},me=function(e,r){return"["+r[2]+"-"+e+","+r[2]+"-"+r[0]+"]"},ye=function(e,r){return r},xe=function(e,r){return"["+e+","+r+"]"},Ae=function(e){return"[..,"+e+"]"},we=function(e){return"["+e+",..]"},Ee=function(e,r){var n=r.split("-")[0],t=r.split("-")[1];return"{"+n+"-"+t+"-"+e+","+r+"}"},Re=function(e,r){var n=r.split("-")[0];return"{"+n+"-"+e.m+"-"+e.d+","+r+"}"},je=function(e,r){return"{"+r[2]+"-"+e+","+r[2]+"-"+r[0]+"}"},Be=function(e,r){return"{"+e+","+r+"}"},Fe="?",$e={type:"literal",value:"?",description:'"?"'},Ie=function(e,r){return G(e),e=r?e+"?":e},Ne=function(e){return"-"+e},Me=function(e){return e},Oe=function(){return"mdy"===J.format},Se=function(){return"dmy"===J.format},Xe="/",ke={type:"literal",value:"/",description:'"/"'},De=function(e,r){return e[0]+"-"+r},Le=function(e,r){return r+"-"+e},Ue=function(e,r){return{d:e,m:r[1]}},Ve=function(e,r){return r+"-"+e},qe=function(e,r){return r+"-"+e},Pe=function(e,r){return e&&(r="-"+r),(!e&&r.length>4||e&&r.length>5)&&(r="y"+r),r},Te=" BCE",_e={type:"literal",value:" BCE",description:'" BCE"'},ze=function(e){var r=new RegExp("[0-9]+$").exec(e);return r&&(e=r-1),("000000"+e).slice(-4)},Ge=function(e,r){var n=e||[];return n.concat(r).join("")},He="M",Je={type:"literal",value:"M",description:'"M"'},Ke=function(e){return e},Qe="S",We={type:"literal",value:"S",description:'"S"'},Ye=function(e){return e},Ze=" C",er={type:"literal",value:" C",description:'" C"'},rr=function(e){return parseInt(e.join(""),10)-1+"xx"},nr=function(e){return parseInt(_r(e.join("")),10)-1+"xx"},tr=" C BCE",ur={type:"literal",value:" C BCE",description:'" C BCE"'},or=function(e){var r=parseInt(e.join(""),10)-1+"xx";return("000000"+r).slice(-4)},ir=function(e){var r=parseInt(_r(e.join("")),10)-1+"xx";return("000000"+r).slice(-4)},ar=function(e,r){return r+"-"+e},cr=function(e,r){return e+r},lr=function(e,r){return e+r},sr=function(e){return"0"+e},fr="u",pr={type:"literal",value:"u",description:'"u"'},dr=function(){return"uu"},vr="*",hr={type:"literal",value:"*",description:'"*"'},br="x",gr={type:"literal",value:"x",description:'"x"'},Cr=function(){return"xx"},mr=/^[0-9]/,yr={type:"class",value:"[0-9]",description:"[0-9]"},xr=function(){return"u"},Ar=/^[0-1]/,wr={type:"class",value:"[0-1]",description:"[0-1]"},Er=/^[0-3]/,Rr={type:"class",value:"[0-3]",description:"[0-3]"},jr="U",Br={type:"literal",value:"U",description:'"U"'},Fr=function(){return"unknown"},$r="OP",Ir={type:"literal",value:"OP",description:'"OP"'},Nr=function(){return"open"},Mr=/^[ivxlcdm]/,Or={type:"class",value:"[ivxlcdm]",description:"[ivxlcdm]"},Sr="BF ",Xr={type:"literal",value:"BF ",description:'"BF "'},kr="AF ",Dr={type:"literal",value:"AF ",description:'"AF "'},Lr=0,Ur=0,Vr=[{line:1,column:1,seenCR:!1}],qr=0,Pr=[],Tr=0;if("startRule"in J){if(!(J.startRule in Q))throw new Error("Can't start parsing from rule \""+J.startRule+'".');W=Q[J.startRule]}var _r=function(e){e=e.toUpperCase();var r,n=/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/,t=/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,u={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},o=0;if(!e||!n.test(e))throw new Error("Invalid roman number");for(;r=t.exec(e);)o+=u[r[0]];return o},zr={1:31,2:29,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},Gr=function(e){return/^(\-|\+)?([0-9]+)$/.test(e)?Number(e):NaN};if(H=W(),H!==K&&Lr===e.length)return H;throw H!==K&&Lr<e.length&&u({type:"end",description:"end of input"}),o(null,Pr,qr<e.length?e.charAt(qr):null,qr<e.length?t(qr,qr+1):t(qr,qr))}return e(r,Error),{SyntaxError:r,parse:n}}()},{}]},{},[1])(1)});
//# sourceMappingURL=edtfy.min.js.map
