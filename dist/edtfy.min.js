!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.edtfy=e()}}(function(){return function e(r,n,t){function u(i,a){if(!n[i]){if(!r[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[i]={exports:{}};r[i][0].call(s.exports,function(e){var n=r[i][1][e];return u(n?n:e)},s,s.exports,e,r,n,t)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<t.length;i++)u(t[i]);return u}({1:[function(e,r,n){!function(){var n="en",t=e("./tmp/edtfy.js"),u=e("./locales/fr"),o=e("./locales/en"),i=function(e,r){return r.months.forEach(function(r,n){n++,n=n>9?n:"0"+n,e=e.replace(new RegExp("\\b"+r+"\\b","g"),"M"+n)}),r.seasons.forEach(function(r,n){n++,n="2"+n,e=e.replace(new RegExp("\\b"+r+"\\b","g"),"S"+n)}),e=e.replace(new RegExp("\\b"+r.century+"\\b","g"),"C"),e=e.replace(new RegExp("\\b"+r.around+"\\b","g"),"~"),e=e.replace(new RegExp("\\b"+r.between1+"\\b","g"),"B1"),e=e.replace(new RegExp("\\b"+r.between2+"\\b","g"),"B2"),e=e.replace(new RegExp("\\b"+r.and+"\\b","g"),"A"),e=e.replace(new RegExp("\\b"+r.or+"\\b","g"),"O"),e=e.replace(new RegExp("\\b"+r.unknown+"\\b","g"),"U"),e=e.replace(new RegExp("\\b"+r.open+"\\b","g"),"OP"),e=e.replace(new RegExp("\\b"+r.before,"g"),"BF"),e=e.replace(new RegExp("\\b"+r.after,"g"),"AF"),e=e.replace(new RegExp("\\b"+r.days+"\\b","g"),""),e=e.replace(new RegExp(" *("+r.negative+")\\b","g")," BCE"),e=e.replace(new RegExp(" *("+r.positive+")\\b","g"),"")};r.exports=function(e,r){r=r||{},r.locale=r.locale||n;var a="en"===r.locale?o:u;e=e.trim().toLowerCase().replace(/ +/g," ").replace(/[,.]/g,"").replace(/[àáâãäå]/g,"a").replace(/ç/g,"c").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõö]/g,"o").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y").replace(/\ble\b/g,"").replace(/\ben\b\s*(\d)/g,"$1").replace(/\bl'\b/g,"").replace(/\bl'an\b/g,"").replace(/(\d+)\s?eme\b/g,"$1").replace(/(\d+)\s?er\b/g,"$1").replace(/(\d+)\s?e\b/g,"$1").replace(/\bthe\b/g,"").replace(/\bin\b/g,"").replace(/(\d+)\s?st\b/g,"$1").replace(/(\d+)\s?nd\b/g,"$1").replace(/(\d+)\s?rd\b/g,"$1").replace(/(\d+)\s?th\b/g,"$1").replace(/ +/g," "),e=i(e,a).trim().replace(/([ivxlcdm]+)\s?eme C/g,"$1 C").replace(/([ivxlcdm]+)\s?er C/g,"$1 C").replace(/([ivxlcdm]+)\s?e C/g,"$1 C").replace(/([ivxlcdm]+)\s?st C/g,"$1 C").replace(/([ivxlcdm]+)\s?nd C/g,"$1 C").replace(/([ivxlcdm]+)\s?rd C/g,"$1 C").replace(/([ivxlcdm]+)\s?th C/g,"$1 C");var c;return a.format.forEach(function(r,n){try{c||(c=t.parse(e,{format:r}))}catch(u){if(n===a.format.length-1)throw u}}),c},r.exports.locale=function(e){return e?void(n=e):n}}()},{"./locales/en":2,"./locales/fr":3,"./tmp/edtfy.js":4}],2:[function(e,r,n){r.exports={days:"monday|mon|tuesday|tue|wednesday|wed|thursday|thu|friday|fri|saturday|sat|sunday|sun",months:["january|jan","february|feb","march|mar","april|apr","may","june|jun","july|jul","august|aug","september|sep","october|oct","november|nov","december|dec"],seasons:["spring","summer","autumn|fall","winter"],century:"century",format:["mdy","dmy"],around:"around|about|abt|close to|estimated|est",between1:"between|bet|from",between2:"to",and:"and",or:"or",unknown:"unknown|ukn",open:"open",before:"before|bef|bf|<",after:"after|aft|af|>",negative:"bce|bc",positive:"ce|ad"}},{}],3:[function(e,r,n){r.exports={days:"lundi|lun|mardi|mar|mercredi|mer|jeudi|jeu|vendredi|ven|samedi|sam|dimanche|dim",months:["janvier|jan","fevrier|fev","mars|mar","avril|avr","mai","juin|jun|jui","juillet|jul|juil","aout|aou","septembre|sep","octobre|oct","novembre|nov","decembre|dec"],seasons:["printemps","ete","automne","hiver"],century:"siecle",format:["dmy"],around:"vers|environ|env|autour de|estime|estimee|est",between1:"entre|du|de",between2:"au|a",and:"et",or:"ou",unknown:"inconnue?",open:"en cours",before:"avant|avt|av|<",after:"apres|apr|ap|>",negative:"aec",positive:"ec"}},{}],4:[function(e,r,n){r.exports=function(){"use strict";function e(e,r){function n(){this.constructor=e}n.prototype=r.prototype,e.prototype=new n}function r(e,n,t,u){this.message=e,this.expected=n,this.found=t,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}function n(e){function n(r){var n,t,u=kr[r];if(u)return u;for(n=r-1;!kr[n];)n--;for(u=kr[n],u={line:u.line,column:u.column,seenCR:u.seenCR};n<r;)t=e.charAt(n),"\n"===t?(u.seenCR||u.line++,u.column=1,u.seenCR=!1):"\r"===t||"\u2028"===t||"\u2029"===t?(u.line++,u.column=1,u.seenCR=!0):(u.column++,u.seenCR=!1),n++;return kr[r]=u,u}function t(e,r){var t=n(e),u=n(r);return{start:{offset:e,line:t.line,column:t.column},end:{offset:r,line:u.line,column:u.column}}}function u(e){Sr<Dr||(Sr>Dr&&(Dr=Sr,Lr=[]),Lr.push(e))}function o(e,n,t,u){function o(e){var r=1;for(e.sort(function(e,r){return e.description<r.description?-1:e.description>r.description?1:0});r<e.length;)e[r-1]===e[r]?e.splice(r,1):r++}function i(e,r){function n(e){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+r(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+r(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+r(e)})}var t,u,o,i=new Array(e.length);for(o=0;o<e.length;o++)i[o]=e[o].description;return t=e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0],u=r?'"'+n(r)+'"':"end of input","Expected "+t+" but "+u+" found."}return null!==n&&o(n),new r(null!==e?e:i(n,t),n,t,u)}function i(){var e;return e=c(),e===J&&(e=l(),e===J&&(e=s(),e===J&&(e=f()))),e}function a(){var r,n,t,o;return r=Sr,126===e.charCodeAt(Sr)?(n=W,Sr++):(n=J,0===Ur&&u(Y)),n!==J?(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee)),t===J&&(t=null),t!==J?(o=p(),o!==J?(Xr=r,n=re(o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=p(),n!==J?(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee)),t===J&&(t=null),t!==J?(126===e.charCodeAt(Sr)?(o=W,Sr++):(o=J,0===Ur&&u(Y)),o!==J?(Xr=r,n=ne(n),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)),r}function c(){var r,n,t,o,i,a;return r=Sr,e.substr(Sr,3)===te?(n=te,Sr+=3):(n=J,0===Ur&&u(ue)),n!==J?(t=f(),t!==J?(e.substr(Sr,4)===oe?(o=oe,Sr+=4):(o=J,0===Ur&&u(ie)),o===J&&(e.substr(Sr,3)===ae?(o=ae,Sr+=3):(o=J,0===Ur&&u(ce))),o!==J?(i=q(),i===J&&(i=f()),i!==J?(Xr=r,n=le(t,i),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,e.substr(Sr,3)===te?(n=te,Sr+=3):(n=J,0===Ur&&u(ue)),n===J&&(n=null),n!==J?(t=f(),t!==J?(e.substr(Sr,4)===oe?(o=oe,Sr+=4):(o=J,0===Ur&&u(ie)),o!==J?(i=q(),i===J&&(i=f()),i!==J?(Xr=r,n=le(t,i),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=f(),n!==J?(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee)),t===J&&(t=null),t!==J?(45===e.charCodeAt(Sr)?(o=se,Sr++):(o=J,0===Ur&&u(fe)),o!==J?(32===e.charCodeAt(Sr)?(i=Z,Sr++):(i=J,0===Ur&&u(ee)),i===J&&(i=null),i!==J?(a=q(),a===J&&(a=f()),a!==J?(Xr=r,n=le(n,a),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=f(),n!==J?(e.substr(Sr,3)===pe?(t=pe,Sr+=3):(t=J,0===Ur&&u(de)),t!==J?(o=q(),o===J&&(o=f()),o!==J?(Xr=r,n=le(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)))),r}function l(){var r,n,t,o,i,a,c;if(r=Sr,n=S(),n!==J?(e.substr(Sr,3)===ve?(t=ve,Sr+=3):(t=J,0===Ur&&u(he)),t!==J?(o=f(),o!==J?(Xr=r,n=be(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=y(),n!==J?(e.substr(Sr,3)===ve?(t=ve,Sr+=3):(t=J,0===Ur&&u(he)),t!==J?(o=f(),o!==J?(Xr=r,n=ge(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J)){if(r=Sr,n=B(),n!==J)if(e.substr(Sr,3)===ve?(t=ve,Sr+=3):(t=J,0===Ur&&u(he)),t!==J){if(o=Sr,i=B(),i!==J){if(a=[],32===e.charCodeAt(Sr)?(c=Z,Sr++):(c=J,0===Ur&&u(ee)),c!==J)for(;c!==J;)a.push(c),32===e.charCodeAt(Sr)?(c=Z,Sr++):(c=J,0===Ur&&u(ee));else a=J;a!==J?(c=R(),c!==J?(i=[i,a,c],o=i):(Sr=o,o=J)):(Sr=o,o=J)}else Sr=o,o=J;o!==J?(Xr=r,n=Ce(n,o),r=n):(Sr=r,r=J)}else Sr=r,r=J;else Sr=r,r=J;if(r===J){if(r=Sr,n=f(),n!==J){if(t=[],o=Sr,e.substr(Sr,3)===ve?(i=ve,Sr+=3):(i=J,0===Ur&&u(he)),i!==J?(a=f(),a!==J?(Xr=o,i=me(n,a),o=i):(Sr=o,o=J)):(Sr=o,o=J),o!==J)for(;o!==J;)t.push(o),o=Sr,e.substr(Sr,3)===ve?(i=ve,Sr+=3):(i=J,0===Ur&&u(he)),i!==J?(a=f(),a!==J?(Xr=o,i=me(n,a),o=i):(Sr=o,o=J)):(Sr=o,o=J);else t=J;t!==J?(Xr=r,n=ye(n,t),r=n):(Sr=r,r=J)}else Sr=r,r=J;if(r===J){if(r=Sr,n=[],t=T(),t!==J)for(;t!==J;)n.push(t),t=T();else n=J;if(n!==J?(t=f(),t!==J?(Xr=r,n=Ae(t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r===J){if(r=Sr,n=[],t=_(),t!==J)for(;t!==J;)n.push(t),t=_();else n=J;n!==J?(t=f(),t!==J?(Xr=r,n=xe(t),r=n):(Sr=r,r=J)):(Sr=r,r=J)}}}}return r}function s(){var r,n,t,o,i,a,c;if(r=Sr,n=S(),n!==J?(e.substr(Sr,3)===ae?(t=ae,Sr+=3):(t=J,0===Ur&&u(ce)),t!==J?(o=f(),o!==J?(Xr=r,n=we(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=y(),n!==J?(e.substr(Sr,3)===ae?(t=ae,Sr+=3):(t=J,0===Ur&&u(ce)),t!==J?(o=f(),o!==J?(Xr=r,n=Ee(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J)){if(r=Sr,n=B(),n!==J)if(e.substr(Sr,3)===ae?(t=ae,Sr+=3):(t=J,0===Ur&&u(ce)),t!==J){if(o=Sr,i=B(),i!==J){if(a=[],32===e.charCodeAt(Sr)?(c=Z,Sr++):(c=J,0===Ur&&u(ee)),c!==J)for(;c!==J;)a.push(c),32===e.charCodeAt(Sr)?(c=Z,Sr++):(c=J,0===Ur&&u(ee));else a=J;a!==J?(c=R(),c!==J?(i=[i,a,c],o=i):(Sr=o,o=J)):(Sr=o,o=J)}else Sr=o,o=J;o!==J?(Xr=r,n=Re(n,o),r=n):(Sr=r,r=J)}else Sr=r,r=J;else Sr=r,r=J;if(r===J)if(r=Sr,n=f(),n!==J){if(t=[],o=Sr,e.substr(Sr,3)===ae?(i=ae,Sr+=3):(i=J,0===Ur&&u(ce)),i!==J?(a=f(),a!==J?(Xr=o,i=me(n,a),o=i):(Sr=o,o=J)):(Sr=o,o=J),o!==J)for(;o!==J;)t.push(o),o=Sr,e.substr(Sr,3)===ae?(i=ae,Sr+=3):(i=J,0===Ur&&u(ce)),i!==J?(a=f(),a!==J?(Xr=o,i=me(n,a),o=i):(Sr=o,o=J)):(Sr=o,o=J);else t=J;t!==J?(Xr=r,n=je(n,t),r=n):(Sr=r,r=J)}else Sr=r,r=J}return r}function f(){var e;return e=a(),e===J&&(e=V(),e===J&&(e=d())),e}function p(){var e;return e=V(),e===J&&(e=d()),e}function d(){var r,n,t,o,i;return r=Sr,n=v(),n!==J?(t=Sr,32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee)),o===J&&(o=null),o!==J?(63===e.charCodeAt(Sr)?(i=Fe,Sr++):(i=J,0===Ur&&u($e)),i!==J?(o=[o,i],t=o):(Sr=t,t=J)):(Sr=t,t=J),t===J&&(t=null),t!==J?(Xr=r,n=Be(n,t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function v(){var e,r;return e=Sr,r=b(),r!==J&&(Xr=e,r=Ie(r)),e=r,e===J&&(e=Sr,r=h(),r!==J&&(Xr=e,r=Ne(r)),e=r),e}function h(){var e,r,n;return e=I(),e===J&&(e=Sr,Xr=Sr,r=Me(),r=r?void 0:J,r!==J?(n=C(),n!==J?(Xr=e,r=Ne(n),e=r):(Sr=e,e=J)):(Sr=e,e=J),e===J&&(e=Sr,Xr=Sr,r=Oe(),r=r?void 0:J,r!==J?(n=A(),n!==J?(Xr=e,r=Ne(n),e=r):(Sr=e,e=J)):(Sr=e,e=J),e===J&&(e=N(),e===J&&(e=w(),e===J&&(e=R()))))),e}function b(){var r,n,t;return r=Sr,n=I(),n!==J?(e.substr(Sr,4)===Se?(t=Se,Sr+=4):(t=J,0===Ur&&u(Xe)),t!==J?(Xr=r,n=ke(n),r=n):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,Xr=Sr,n=Me(),n=n?void 0:J,n!==J?(t=m(),t!==J?(Xr=r,n=Ne(t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,Xr=Sr,n=Oe(),n=n?void 0:J,n!==J?(t=x(),t!==J?(Xr=r,n=Ne(t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=M(),r===J&&(r=E(),r===J&&(r=j()))))),r}function g(){var r,n,t,o;return r=Sr,n=Sr,t=$(),t!==J?(32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee)),o!==J?(t=[t,o],n=t):(Sr=n,n=J)):(Sr=n,n=J),n===J&&(n=Sr,t=O(),t!==J?(47===e.charCodeAt(Sr)?(o=De,Sr++):(o=J,0===Ur&&u(Le)),o!==J?(t=[t,o],n=t):(Sr=n,n=J)):(Sr=n,n=J)),n!==J?(t=S(),t!==J?(Xr=r,n=Ue(n,t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function C(){var r,n,t,o;return r=Sr,n=g(),n!==J?(47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),t===J&&(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee))),t!==J?(o=R(),o!==J?(Xr=r,n=Ve(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r}function m(){var r,n,t,o;return r=Sr,n=g(),n!==J?(47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),t===J&&(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee))),t!==J?(o=j(),o!==J?(Xr=r,n=Ve(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r}function y(){var r,n,t,o,i;return r=Sr,n=S(),n!==J?(t=Sr,32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee)),o!==J?(i=$(),i!==J?(o=[o,i],t=o):(Sr=t,t=J)):(Sr=t,t=J),t===J&&(t=Sr,47===e.charCodeAt(Sr)?(o=De,Sr++):(o=J,0===Ur&&u(Le)),o!==J?(i=O(),i!==J?(o=[o,i],t=o):(Sr=t,t=J)):(Sr=t,t=J)),t!==J?(Xr=r,n=qe(n,t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function A(){var r,n,t,o;return r=Sr,n=S(),n!==J?(47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),t===J&&(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee))),t!==J?(o=w(),o!==J?(Xr=r,n=Pe(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r}function x(){var r,n,t,o;return r=Sr,n=S(),n!==J?(47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),t===J&&(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee))),t!==J?(o=E(),o!==J?(Xr=r,n=Pe(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r}function w(){var r,n,t,o;return r=Sr,n=$(),n!==J?(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee)),t!==J?(o=R(),o!==J?(Xr=r,n=Te(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=O(),n!==J?(47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),t!==J?(o=R(),o!==J?(Xr=r,n=Te(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)),r}function E(){var r,n,t,o;return r=Sr,n=$(),n!==J?(32===e.charCodeAt(Sr)?(t=Z,Sr++):(t=J,0===Ur&&u(ee)),t!==J?(o=j(),o!==J?(Xr=r,n=Te(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J),r===J&&(r=Sr,n=O(),n!==J?(47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),t!==J?(o=j(),o!==J?(Xr=r,n=Te(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)):(Sr=r,r=J)),r}function R(){var r,n,t;return r=Sr,45===e.charCodeAt(Sr)?(n=se,Sr++):(n=J,0===Ur&&u(fe)),n===J&&(n=null),n!==J?(t=F(),t!==J?(Xr=r,n=_e(n,t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function j(){var r,n,t;return r=Sr,n=F(),n!==J?(e.substr(Sr,4)===Se?(t=Se,Sr+=4):(t=J,0===Ur&&u(Xe)),t!==J?(Xr=r,n=ze(n),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function F(){var r,n,t,o;if(r=Sr,n=[],t=k(),t!==J)for(;t!==J;)n.push(t),t=k();else n=J;if(n===J&&(n=Sr,Ur++,47===e.charCodeAt(Sr)?(t=De,Sr++):(t=J,0===Ur&&u(Le)),Ur--,t===J?n=void 0:(Sr=n,n=J)),n!==J){for(t=[],o=D();o!==J;)t.push(o),o=D();t===J&&(t=Sr,Ur++,47===e.charCodeAt(Sr)?(o=De,Sr++):(o=J,0===Ur&&u(Le)),Ur--,o===J?t=void 0:(Sr=t,t=J)),t!==J?(Xr=r,n=Ge(n,t),r=n):(Sr=r,r=J)}else Sr=r,r=J;return r}function $(){var r,n,t,o,i,a;return r=Sr,77===e.charCodeAt(Sr)?(n=He,Sr++):(n=J,0===Ur&&u(Je)),n!==J?(t=Sr,o=Sr,i=k(),i!==J?(a=k(),a!==J?(i=[i,a],o=i):(Sr=o,o=J)):(Sr=o,o=J),t=o!==J?e.substring(t,Sr):o,t!==J?(Xr=r,n=Ke(t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function B(){var r,n,t,o,i,a;return r=Sr,83===e.charCodeAt(Sr)?(n=Qe,Sr++):(n=J,0===Ur&&u(We)),n!==J?(t=Sr,o=Sr,i=k(),i!==J?(a=k(),a!==J?(i=[i,a],o=i):(Sr=o,o=J)):(Sr=o,o=J),t=o!==J?e.substring(t,Sr):o,t!==J?(Xr=r,n=Ye(t),r=n):(Sr=r,r=J)):(Sr=r,r=J),r}function I(){var r,n,t;if(r=Sr,n=[],t=k(),t!==J)for(;t!==J;)n.push(t),t=k();else n=J;if(n!==J?(e.substr(Sr,2)===Ze?(t=Ze,Sr+=2):(t=J,0===Ur&&u(er)),t!==J?(Xr=r,n=rr(n),r=n):(Sr=r,r=J)):(Sr=r,r=J),r===J){if(r=Sr,n=[],t=P(),t!==J)for(;t!==J;)n.push(t),t=P();else n=J;n!==J?(e.substr(Sr,2)===Ze?(t=Ze,Sr+=2):(t=J,0===Ur&&u(er)),t!==J?(Xr=r,n=nr(n),r=n):(Sr=r,r=J)):(Sr=r,r=J)}return r}function N(){var r,n,t,o;if(r=Sr,n=B(),n!==J){if(t=[],32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee)),o!==J)for(;o!==J;)t.push(o),32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee));else t=J;t!==J?(o=R(),o!==J?(Xr=r,n=tr(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)}else Sr=r,r=J;return r}function M(){var r,n,t,o;if(r=Sr,n=B(),n!==J){if(t=[],32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee)),o!==J)for(;o!==J;)t.push(o),32===e.charCodeAt(Sr)?(o=Z,Sr++):(o=J,0===Ur&&u(ee));else t=J;t!==J?(o=j(),o!==J?(Xr=r,n=tr(n,o),r=n):(Sr=r,r=J)):(Sr=r,r=J)}else Sr=r,r=J;return r}function O(){var e,r,n;return e=Sr,r=L(),r!==J?(n=D(),n!==J?(Xr=e,r=ur(r,n),e=r):(Sr=e,e=J)):(Sr=e,e=J),e===J&&(e=Sr,r=L(),r!==J?(n=k(),n!==J?(Xr=e,r=or(r,n),e=r):(Sr=e,e=J)):(Sr=e,e=J)),e===J&&(e=X()),e}function S(){var e,r,n;return e=Sr,r=U(),r!==J?(n=D(),n!==J?(Xr=e,r=ur(r,n),e=r):(Sr=e,e=J)):(Sr=e,e=J),e===J&&(e=Sr,r=U(),r!==J?(n=k(),n!==J?(Xr=e,r=or(r,n),e=r):(Sr=e,e=J)):(Sr=e,e=J)),e===J&&(e=X()),e}function X(){var r,n;return r=Sr,n=k(),n!==J&&(Xr=r,n=ir(n)),r=n,r===J&&(r=Sr,117===e.charCodeAt(Sr)?(n=ar,Sr++):(n=J,0===Ur&&u(cr)),n!==J&&(Xr=r,n=lr()),r=n,r===J&&(r=Sr,42===e.charCodeAt(Sr)?(n=sr,Sr++):(n=J,0===Ur&&u(fr)),n!==J&&(Xr=r,n=lr()),r=n,r===J&&(r=Sr,120===e.charCodeAt(Sr)?(n=pr,Sr++):(n=J,0===Ur&&u(dr)),n!==J&&(Xr=r,n=vr()),r=n))),r}function k(){var r;return hr.test(e.charAt(Sr))?(r=e.charAt(Sr),Sr++):(r=J,0===Ur&&u(br)),r}function D(){var r,n;return 117===e.charCodeAt(Sr)?(r=ar,Sr++):(r=J,0===Ur&&u(cr)),r===J&&(120===e.charCodeAt(Sr)?(r=pr,Sr++):(r=J,0===Ur&&u(dr)),r===J&&(r=Sr,42===e.charCodeAt(Sr)?(n=sr,Sr++):(n=J,0===Ur&&u(fr)),n!==J&&(Xr=r,n=gr()),r=n)),r}function L(){var r;return r=D(),r===J&&(Cr.test(e.charAt(Sr))?(r=e.charAt(Sr),Sr++):(r=J,0===Ur&&u(mr))),r}function U(){var r;return r=D(),r===J&&(yr.test(e.charAt(Sr))?(r=e.charAt(Sr),Sr++):(r=J,0===Ur&&u(Ar))),r}function V(){var r,n;return r=Sr,85===e.charCodeAt(Sr)?(n=xr,Sr++):(n=J,0===Ur&&u(wr)),n!==J&&(Xr=r,n=Er()),r=n}function q(){var r,n;return r=Sr,e.substr(Sr,2)===Rr?(n=Rr,Sr+=2):(n=J,0===Ur&&u(jr)),n!==J&&(Xr=r,n=Fr()),r=n}function P(){var r;return $r.test(e.charAt(Sr))?(r=e.charAt(Sr),Sr++):(r=J,0===Ur&&u(Br)),r}function T(){var r;return e.substr(Sr,3)===Ir?(r=Ir,Sr+=3):(r=J,0===Ur&&u(Nr)),r}function _(){var r;return e.substr(Sr,3)===Mr?(r=Mr,Sr+=3):(r=J,0===Ur&&u(Or)),r}function z(e){e=e.replace(/[~\?y]/g,"").replace(/^-/,"");var r,n,t=e.split("-"),u=Pr(t[0]);if(!Pr(u)&&0===u)throw new Error("Invalid year");if(3==t.length?(r=Pr(t[1]),n=Pr(t[2])):2==t.length&&(r=Pr(t[1])),t.length>1&&null!=n&&!isNaN(n)&&!isNaN(r)){if(null==qr[r])throw new Error("Invalid month");if(qr[r]<n||n<1)throw new Error("Invalid day")}else if(null!=n){if(!isNaN(r)&&(0===r||r>12))throw new Error("Invalid month");if(!isNaN(n)&&(0===n||n>31))throw new Error("Invalid day")}else if(null!=r&&!isNaN(r)&&!(r>0&&r<13||r>20&&r<25))throw new Error("Invalid month")}var G,H=arguments.length>1?arguments[1]:{},J={},K={start:i},Q=i,W="~",Y={type:"literal",value:"~",description:'"~"'},Z=" ",ee={type:"literal",value:" ",description:'" "'},re=function(e){return e+"~"},ne=function(e){return e+"~"},te="B1 ",ue={type:"literal",value:"B1 ",description:'"B1 "'},oe=" B2 ",ie={type:"literal",value:" B2 ",description:'" B2 "'},ae=" A ",ce={type:"literal",value:" A ",description:'" A "'},le=function(e,r){return e+"/"+r},se="-",fe={type:"literal",value:"-",description:'"-"'},pe=" / ",de={type:"literal",value:" / ",description:'" / "'},ve=" O ",he={type:"literal",value:" O ",description:'" O "'},be=function(e,r){var n=r.split("-")[0],t=r.split("-")[1];return"["+n+"-"+t+"-"+e+","+r+"]"},ge=function(e,r){var n=r.split("-")[0];return"["+n+"-"+e.m+"-"+e.d+","+r+"]"},Ce=function(e,r){return"["+r[2]+"-"+e+","+r[2]+"-"+r[0]+"]"},me=function(e,r){return r},ye=function(e,r){return"["+e+","+r+"]"},Ae=function(e){return"[..,"+e+"]"},xe=function(e){return"["+e+",..]"},we=function(e,r){var n=r.split("-")[0],t=r.split("-")[1];return"{"+n+"-"+t+"-"+e+","+r+"}"},Ee=function(e,r){var n=r.split("-")[0];return"{"+n+"-"+e.m+"-"+e.d+","+r+"}"},Re=function(e,r){return"{"+r[2]+"-"+e+","+r[2]+"-"+r[0]+"}"},je=function(e,r){return"{"+e+","+r+"}"},Fe="?",$e={type:"literal",value:"?",description:'"?"'},Be=function(e,r){return z(e),e=r?e+"?":e},Ie=function(e){return"-"+e},Ne=function(e){return e},Me=function(){return"mdy"===H.format},Oe=function(){return"dmy"===H.format},Se=" BCE",Xe={type:"literal",value:" BCE",description:'" BCE"'},ke=function(e){return e},De="/",Le={type:"literal",value:"/",description:'"/"'},Ue=function(e,r){return e[0]+"-"+r},Ve=function(e,r){return r+"-"+e},qe=function(e,r){return{d:e,m:r[1]}},Pe=function(e,r){return r+"-"+e},Te=function(e,r){return r+"-"+e},_e=function(e,r){return e&&(r="-"+r),(!e&&r.length>4||e&&r.length>5)&&(r="y"+r),r},ze=function(e){var r=new RegExp("[0-9]+$").exec(e);return r&&(e=r-1),("000000"+e).slice(-4)},Ge=function(e,r){var n=e||[];return n=n.concat(r).join(""),n&&n.length<4&&(n=("000000"+n).slice(-4)),n},He="M",Je={type:"literal",value:"M",description:'"M"'},Ke=function(e){return e},Qe="S",We={type:"literal",value:"S",description:'"S"'},Ye=function(e){return e},Ze=" C",er={type:"literal",value:" C",description:'" C"'},rr=function(e){var r=parseInt(e.join(""),10)-1+"xx";return("000000"+r).slice(-4)},nr=function(e){var r=parseInt(Vr(e.join("")),10)-1+"xx";return("000000"+r).slice(-4)},tr=function(e,r){return r+"-"+e},ur=function(e,r){return e+r},or=function(e,r){return e+r},ir=function(e){return"0"+e},ar="u",cr={type:"literal",value:"u",description:'"u"'},lr=function(){return"uu"},sr="*",fr={type:"literal",value:"*",description:'"*"'},pr="x",dr={type:"literal",value:"x",description:'"x"'},vr=function(){return"xx"},hr=/^[0-9]/,br={type:"class",value:"[0-9]",description:"[0-9]"},gr=function(){return"u"},Cr=/^[0-1]/,mr={type:"class",value:"[0-1]",description:"[0-1]"},yr=/^[0-3]/,Ar={type:"class",value:"[0-3]",description:"[0-3]"},xr="U",wr={type:"literal",value:"U",description:'"U"'},Er=function(){return"unknown"},Rr="OP",jr={type:"literal",value:"OP",description:'"OP"'},Fr=function(){return"open"},$r=/^[ivxlcdm]/,Br={type:"class",value:"[ivxlcdm]",description:"[ivxlcdm]"},Ir="BF ",Nr={type:"literal",value:"BF ",description:'"BF "'},Mr="AF ",Or={type:"literal",value:"AF ",description:'"AF "'},Sr=0,Xr=0,kr=[{line:1,column:1,seenCR:!1}],Dr=0,Lr=[],Ur=0;if("startRule"in H){if(!(H.startRule in K))throw new Error("Can't start parsing from rule \""+H.startRule+'".');Q=K[H.startRule]}var Vr=function(e){e=e.toUpperCase();var r,n=/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/,t=/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,u={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},o=0;if(!e||!n.test(e))throw new Error("Invalid roman number");for(;r=t.exec(e);)o+=u[r[0]];return o},qr={1:31,2:29,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},Pr=function(e){return/^(\-|\+)?([0-9]+)$/.test(e)?Number(e):NaN};if(G=Q(),G!==J&&Sr===e.length)return G;throw G!==J&&Sr<e.length&&u({type:"end",description:"end of input"}),o(null,Lr,Dr<e.length?e.charAt(Dr):null,Dr<e.length?t(Dr,Dr+1):t(Dr,Dr))}return e(r,Error),{SyntaxError:r,parse:n}}()},{}]},{},[1])(1)});
//# sourceMappingURL=edtfy.min.js.map
